<!DOCTYPE html>

<html>
<head>
    <title>Homepage</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <script async
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA5L1utCSQOnj7d-MKRU8kLUopQ3DUVE38&loading=async&callback=initMap">
    </script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="homepage.css">
</head>
<body>

    <div class="backgroundPic">
    </div>
    <header>

        <div class="container">

            <nav>
                <h1 class="logo">Name of Project</h1>
                <ul>                        
                    <li><a class="active" href="#">Home</a></li>
                    <li><a href="#" onclick="window.location.href='thirdPlaces.html'">Third Places</a></li>
                    <li><a href="#" onclick="window.location.href='communities.html'">Communities</a></li>
                </ul>
            </nav>

        </div>
    </header>

    <div id="map"></div>
    <script>
        function initMap() {
          var map = new google.maps.Map(document.getElementById('map'), {
            center: { lat: 37.7749, lng: -122.4194 },
            zoom: 12
          });
      
          var marker;
      
          // Add a click event listener to the map
          google.maps.event.addListener(map, 'click', function(event) {
            // Remove existing marker if present
            if (marker) {
              marker.setMap(null);
            }
      
            // Create a new marker at the clicked location
            marker = new google.maps.Marker({
              position: event.latLng,
              map: map,
              draggable: true,
              title: 'Drag me!'
            });
      
            // Add an event listener for the marker drag event
            marker.addListener('dragend', function() {
              // Get the updated coordinates after dragging the marker
              var updatedLatLng = marker.getPosition();
              console.log('Marker dragged to:', updatedLatLng.lat(), updatedLatLng.lng());
            });
          });
      
          /* Add a button to remove the marker
          var removeMarkerButton = document.createElement('button');
          removeMarkerButton.textContent = 'Remove Marker';
          document.body.appendChild(removeMarkerButton);*/
      
          removeMarkerButton.addEventListener('click', function() {
            // Remove the marker from the map
            if (marker) {
              marker.setMap(null);
              console.log('Marker removed.');
            }
          });
        }
      </script>

    <script src="./homepage.js"></script>
</body>
</html>